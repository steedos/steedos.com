---
title: 推送通知
description: 华炎魔方支持在第三方应用中调用接口来发推送通知
---

只要调用华炎魔方 [GraphQL](/docs/developer/objectql) 接口往对象 `push_notifications` 中插入通知数据即可实现发送 [推送通知](/docs/user/apps#推送通知) 到魔方魔方手机客户端、PC客户端以及浏览器端。

## 安装软件包 

需要先 [安装软件包](/docs/developer/package#安装) `@steedos/service-push` 才能使用该功能。

2. 在魔方系统创建第三方应用，并记录下创建成功后的appId

## 调用GraphQL接口

调用GraphQL接口往对象 `push_notifications` 中插入一条记录，系统就会自动发送推送通知。

以下是GraphQL接口中需要发送的数据参考：

```js
mutation {
    push_notifications__insert(doc:{ 
      name : "系统管理员为您分配了一个任务1",
      body : "处理次款事务1",
      owner_mobile : "xxxxxxxxxxx", //人员手机号
      app_id : "xxxxxxxxxxxx", //自建第三方应用的appId
      badge: 1 //待办数
}){
      name
      _id
  }
}
```

假设华炎魔方项目访问地址为 https://huayan-test.steedos.cn， 那么其GraphQL接口地址就是 https://huayan-test.steedos.cn/graphql， 我们只要在第三方系统中调用该地址，发送以上参考数据，华炎魔方就会自动发送推送通知。

GraphQL使用方法请参考 [华炎魔方GraphQL API](/docs/developer/graphql-api)。


